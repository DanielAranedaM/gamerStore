<ion-header [translucent]="true">
  <ion-buttons>
    <ion-button (click)="cerrarModal()">X</ion-button>
  </ion-buttons>
    <ion-title>Agrega un producto!!!</ion-title>
</ion-header>

<ion-content>
  <form [formGroup]="form" class="ion-padding ion-text-center" (ngSubmit)="subir()" (keypress)="subir()">

    <!--Imagen-->
    <ion-button (click)="tomarImagen()" expand="block" fill="clear" shape="round">
      Clickea para tomar una imagen!!
    </ion-button>


    <!--Nombre del producto-->
    <app-custom-input
     autocomplete="name" 
     [control]="form.controls.nombre"
     type="text"
     label="Nombre"></app-custom-input>

     <div class="validators" *ngIf="form.controls.nombre.errors && form.controls.nombre.touched">
      <div *ngIf="form.controls.nombre.errors?.['required']">
        El nombre es requerido
      </div>
      <div *ngIf="form.controls.nombre.errors?.['minlenght']">
        El nombre debe tener por lo menos 4 letras
      </div>
     </div>

     <!--Precio del producto-->
     <app-custom-input
     [control]="form.controls.precio"
     type="number"
     label="precio"></app-custom-input>

     <div class="validators" *ngIf="form.controls.precio.errors && form.controls.precio.touched">
      <div *ngIf="form.controls.precio.errors?.['required']">
        Debe colocar un precio
      </div>
      <div *ngIf="form.controls.precio.errors?.['min']">
        El precio por lo menos debe ser 0
      </div>
     </div>

     <!--Unidades vendidas-->
     <app-custom-input
     [control]="form.controls.unidadesVendidas"
     type="number"
     label="unidadesVendidas"></app-custom-input>

     <div class="validators" *ngIf="form.controls.unidadesVendidas.errors && form.controls.unidadesVendidas.touched">
      <div *ngIf="form.controls.unidadesVendidas.errors?.['required']">
        Debe colocar unidades Vendidas
      </div>
      <div *ngIf="form.controls.unidadesVendidas.errors?.['min']">
        El unidades Vendidas por lo menos debe ser 0
      </div>
     </div>

     
     <ion-button mode="android" class="ion-margin" type="submit" [disabled]="form.valid">
      Agregar item

     </ion-button>

  </form>
</ion-content>